choice
	prompt "Select a Mods bus"
config GREYBUS_MODS_SPI
	bool "SPI"

config GREYBUS_MODS_I2C
	bool "I2C"

config GREYBUS_MODS_UART
	bool "UART"
endchoice

config GREYBUS_MODS_ATTACH
	bool "Mod Attach"
	default n
	---help---
		Include mod attach logic.

config GREYBUS_MODS_PORT
	int "Mods Port Number"
	default 1
	---help---
		Bus port to use to communicate with base (default 1).

if GREYBUS_MODS_I2C

config GREYBUS_MODS_I2C_ADDR
	hex "Mods I2C Address"
	default 0x55

endif

if GREYBUS_MODS_SPI
config GREYBUS_MODS_MAX_BUS_SPEED
	int "Mods Maximum Bus Speed"
	default 0
	---help---
		The maximum bus speed that will be reported to the AP. Set to zero to
		report nothing and remain at the default speed.

config GREYBUS_MODS_DESIRED_PKT_SIZE
	int "Mods Desired Packet Size"
	default 0
	---help---
		The desired packet size that will be reported to the AP. If the AP is
		unable to handle packets that large, the AP's maximum size will be used
		instead. Value must be greater than or equal to the default packet size
		and less than or equal to the maximum supported Greybus packet size.
		Set to zero to report nothing and remain at the default size.
endif

config GREYBUS_MODS_PTP_DEVICE_BATTERY
	bool "PTP device with a battery and optional wireless charging"
	select BATTERY_STATE
	default n
	depends on GREYBUS_PTP && !GREYBUS_PTP_INT_RCV_NEVER && !GREYBUS_PTP_INT_SND_NEVER

if GREYBUS_MODS_PTP_DEVICE_BATTERY
config GREYBUS_MODS_QUICK_CHG_CURRENT
	int "Quick charging current limit in mA"
	default 1500

config GREYBUS_MODS_FULL_CHG_VOLTAGE
	int "Full charging voltage limit in mV"
	default 4200

config GREYBUS_MODS_REDUCED_CHG_CURRENT
	int "Restricted charging current limit in mA"
	default 1000

config GREYBUS_MODS_REDUCED_CHG_VOLTAGE
	int "Restricted charging voltage limit in mV"
	default 4000

config GREYBUS_MODS_SLOW_CHG_CURRENT
	int "Slow charging current limit in mA"
	default 1000

config GREYBUS_MODS_WIRELESS_INPUT_CURRENT
	int "Input current limit from wireless in mA"
	depends on GREYBUS_PTP_EXT_SUPPORTED
	default 1000

config GREYBUS_MODS_INPUT_VOLTAGE
	int "Input voltage limit in mV"
	default 4500
endif

if DEBUG
config GREYBUS_SELF_DESTRUCT
    bool "Support self blanking code - WARNING Debug release only"
    default n

if GREYBUS_SELF_DESTRUCT
    config GREYBUS_SELF_DESTRUCT_START
      hex  "Start address to erase"
      default 0x08000000

    config GREYBUS_SELF_DESTRUCT_END
      hex  "End address to erase"
      default 0x08007fff
endif
endif

config GREYBUS_MODS_HW_ROOT_VERSION
	hex "Pre-defined HW Root Version"
	default 0xff
	---help---
		The version/revision of the root hardware circuitry. This will
		communicate to the host/phone side what hardware features are
		supported by the mod. Valid values are 0x00 to 0xFF.
